import{h as l,o as u,c as h,_ as A,y as m,z as p,b as M,C as k,d as P,O as d,a5 as R,u as E,l as S,a6 as $,a7 as L,a8 as D,a9 as O,aa as z,ab as I,ac as U,ad as j,ae as B,af as T,ag as V,ah as F,ai as H,E as W}from"./chunks/framework.8f89fd55.js";import{t as f}from"./chunks/theme.21eb0989.js";const q={id:"comment"},N={__name:"Utterances",setup(t){return l(()=>{const e=window.document.createElement("script");e.type="text/javascript",e.async=!0,e.setAttribute("issue-term","title"),e.setAttribute("theme",[...document.documentElement.classList].includes("dark")?"github-dark":"github-light"),e.setAttribute("repo","fang-kang/note"),e.crossOrigin="anonymous",e.src="https://utteranc.es/client.js",window.document.getElementById("comment").appendChild(e),document.querySelector(".VPSwitchAppearance").addEventListener("click",()=>{const a={type:"set-theme",theme:[...document.documentElement.classList].includes("dark")?"github-dark":"github-light"};document.querySelector(".utterances-frame").contentWindow.postMessage(a,"https://utteranc.es")})}),(e,n)=>(u(),h("div",q))}};const r=(t,e)=>Math.floor(Math.random()*(e-t)+t),Y={name:"Canvas",props:{globalCompositeOperation:{type:String,default:"lighter"}},data(){return{ctx:null}},methods:{initCanvas(){const t=this.$refs.canvasRef,e=window.innerWidth,n=window.innerHeight;t.width=e,t.height=n,this.ctx=t.getContext("2d"),this.ctx.clearRect(0,0,e,n),this.globalCompositeOperation&&(this.ctx.globalCompositeOperation=this.globalCompositeOperation)},generateParams(){const t=window.innerWidth,e=window.innerHeight,n=t>400?50:0,s=e>550?300:50,a=e>640?120:0,c=r(10,25),o=r(n,t-c*2-n),g=r(s,e-c*2-a),w=r(0,255),y=r(0,255),v=r(0,255),x=Math.random()*.05+.05,b=`rgba(${w}, ${y}, ${v}, ${x})`,C=Math.random()>.5;return{x:o,y:g,r:c,color:b,isStroke:C}},drawRect(){const{x:t,y:e,r:n,color:s,isStroke:a}=this.generateParams();a?(this.ctx.strokeStyle=s,this.ctx.strokeRect(t,e,n*2,n*2)):(this.ctx.fillStyle=s,this.ctx.fillRect(t,e,n*2,n*2))},drawArc(){const{x:t,y:e,r:n,color:s,isStroke:a}=this.generateParams();this.ctx.beginPath(),a?(this.ctx.strokeStyle=s,this.ctx.arc(t,e,n,0,2*Math.PI),this.ctx.stroke()):(this.ctx.fillStyle=s,this.ctx.arc(t,e,n,0,2*Math.PI),this.ctx.fill()),this.ctx.closePath()},resize(){this.initCanvas();const e=window.innerWidth>640?50:15;for(let n=0;n<e;n++)this.drawArc();for(let n=0;n<e;n++)this.drawRect()}},mounted(){this.resize(),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize)},beforeDestory(){window.removeEventListener("resize",this.resize)}};function G(t,e,n,s,a,c){return u(),h("canvas",{class:"canvas",ref:"canvasRef",onMousedown:e[0]||(e[0]=(...o)=>t.handleMouseDown&&t.handleMouseDown(...o)),onMousemove:e[1]||(e[1]=(...o)=>t.handleMouseMove&&t.handleMouseMove(...o)),onMouseup:e[2]||(e[2]=(...o)=>t.handleMouseUp&&t.handleMouseUp(...o))},null,544)}const X=A(Y,[["render",G],["__scopeId","data-v-8b42d4af"]]),J={__name:"Hero",setup(t){return(e,n)=>(u(),m(X))}},K={__name:"Layout",setup(t){const{Layout:e}=f;return(n,s)=>(u(),m(M(e),null,{"home-hero-after":p(()=>[k(J)]),"doc-after":p(()=>[]),_:1}))}};const Q={...f,Layout:K,enhanceApp({app:t}){t.component("Utterances",N)},setup(){}};function _(t){if(t.extends){const e=_(t.extends);return{...e,...t,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),t.enhanceApp&&await t.enhanceApp(n)}}}return t}const i=_(Q),Z=P({name:"VitePressApp",setup(){const{site:t}=E();return l(()=>{S(()=>{document.documentElement.lang=t.value.lang,document.documentElement.dir=t.value.dir})}),$(),L(),D(),i.setup&&i.setup(),()=>O(i.Layout)}});async function ee(){const t=ne(),e=te();e.provide(z,t);const n=I(t.route);return e.provide(U,n),e.component("Content",j),e.component("ClientOnly",B),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),i.enhanceApp&&await i.enhanceApp({app:e,router:t,siteData:T}),{app:e,router:t,data:n}}function te(){return V(Z)}function ne(){let t=d,e;return F(n=>{let s=H(n);return t&&(e=s),(t||e===s)&&(s=s.replace(/\.js$/,".lean.js")),d&&(t=!1),W(()=>import(s),[])},i.NotFound)}d&&ee().then(({app:t,router:e,data:n})=>{e.go().then(()=>{R(e.route,n.site),t.mount("#app")})});export{ee as createApp};
